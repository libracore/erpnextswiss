{
 "align_labels_right": 0,
 "creation": "2024-04-18 09:31:25.794207",
 "css": "",
 "custom_format": 1,
 "disable_smart_shrinking": 1,
 "disabled": 0,
 "doc_type": "VAT Declaration",
 "docstatus": 0,
 "doctype": "Print Format",
 "font": "Default",
 "html": "{% set field_list = [\n    {\"code\": \"200\", \"fieldname\": \"total_revenue\", \"label\": \"Total revenue (200)\"},\n    {\"code\": \"205\", \"fieldname\": \"non_taxable_revenue\", \"label\": \"Non-taxable revenue (205)\"},\n    {\"code\": \"220\", \"fieldname\": \"tax_free_services\", \"label\": \"Tax-free services (220)\"},\n    {\"code\": \"221\", \"fieldname\": \"revenue_abroad\", \"label\": \"Revenue abroad (221)\"},\n    {\"code\": \"225\", \"fieldname\": \"transfers\", \"label\": \"Transfers (225)\"},\n    {\"code\": \"230\", \"fieldname\": \"non_taxable_services\", \"label\": \"Non-taxable services (230)\"},\n    {\"code\": \"235\", \"fieldname\": \"losses\", \"label\": \"Losses (235)\"},\n    {\"code\": \"280\", \"fieldname\": \"misc\", \"label\": \"Miscellaneous (280)\"},\n    {\"code\": \"289\", \"fieldname\": \"total_deductions\", \"label\": \"Total deductions (289)\"},\n    {\"code\": \"299\", \"fieldname\": \"taxable_revenue\", \"label\": \"Taxable revenue (299)\"},\n    {\"code\": \"303\", \"fieldname\": \"normal_amount_2024\", \"label\": \"Normal (303)\", \"rate_field\": \"normal_rate_2024\", \"tax_field\": \"normal_tax_2024\"},\n    {\"code\": \"313\", \"fieldname\": \"reduced_amount_2024\", \"label\": \"Reduced (313)\", \"rate_field\": \"reduced_rate_2024\", \"tax_field\": \"reduced_tax_2024\"},\n    {\"code\": \"343\", \"fieldname\": \"lodging_amount_2024\", \"label\": \"Lodging (343)\", \"rate_field\": \"lodging_rate_2024\", \"tax_field\": \"lodging_tax_2024\"},\n    {\"code\": \"302\", \"fieldname\": \"normal_amount\", \"label\": \"Normal (302)\", \"rate_field\": \"normal_rate\", \"tax_field\": \"normal_tax\"},\n    {\"code\": \"312\", \"fieldname\": \"reduced_amount\", \"label\": \"Reduced (312)\", \"rate_field\": \"reduced_rate\", \"tax_field\": \"reduced_tax\"},\n    {\"code\": \"342\", \"fieldname\": \"lodging_amount\", \"label\": \"Lodging (342)\", \"rate_field\": \"lodging_rate\", \"tax_field\": \"lodging_tax\"},\n    {\"code\": \"323\", \"fieldname\": \"amount_1_2024\", \"label\": \"Amount 1 (323)\", \"rate_field\": \"rate_1_2024\", \"tax_field\": \"tax_1_2024\"},\n    {\"code\": \"333\", \"fieldname\": \"amount_2_2024\", \"label\": \"Amount 2 (333)\", \"rate_field\": \"rate_2_2024\", \"tax_field\": \"tax_2_2024\"},\n    {\"code\": \"322\", \"fieldname\": \"amount_1\", \"label\": \"Amount 1 (322)\", \"rate_field\": \"rate_1\", \"tax_field\": \"tax_1\"},\n    {\"code\": \"332\", \"fieldname\": \"amount_2\", \"label\": \"Amount 2 (332)\", \"rate_field\": \"rate_2\", \"tax_field\": \"tax_2\"},\n    {\"code\": \"383\", \"fieldname\": \"additional_amount_2024\", \"label\": \"Additional (383)\", \"tax_field\": \"additional_tax_2024\"},\n    {\"code\": \"382\", \"fieldname\": \"additional_amount\", \"label\": \"Additional (382)\", \"tax_field\": \"additional_tax\"},\n    {\"code\": \"399\", \"tax_field\": \"total_tax\", \"label\": \"Total tax (399)\"},\n    {\"code\": \"400\", \"tax_field\": \"pretax_material\", \"label\": \"Pretax material and services (400)\"},\n    {\"code\": \"405\", \"tax_field\": \"pretax_investments\", \"label\": \"Pretax investments (405)\"},\n    {\"code\": \"410\", \"tax_field\": \"missing_pretax\", \"label\": \"Missing pretax (410)\"},\n    {\"code\": \"415\", \"tax_field\": \"pretax_correction_mixed\", \"label\": \"Pretax correction mixed (415)\"},\n    {\"code\": \"420\", \"tax_field\": \"pretax_correction_other\", \"label\": \"Pretax correction other (420)\"},\n    {\"code\": \"479\", \"tax_field\": \"total_pretax_reductions\", \"label\": \"Total pretax reductions (479)\"},\n    {\"code\": \"500\", \"tax_field\": \"payable_tax\", \"label\": \"Payable tax (500)\"},\n    {\"code\": \"510\", \"tax_field\": \"balance\", \"label\": \"Balance (510)\"},\n    {\"code\": \"900\", \"tax_field\": \"grants\", \"label\": \"Grants (900)\"},\n    {\"code\": \"910\", \"tax_field\": \"donations\", \"label\": \"Donations (910)\"},\n] %}\n\n<!-- HEAD -->\n<div id=\"header-html\" class=\"hidden-pdf\">\n    <p style=\"text-align: right; \">{{ doc.name }}</p>\n</div>\n\n<!-- page footer -->\n<div id=\"footer-html\" class=\"visible-pdf\">\n    <p style=\"text-align: right; \">{{ _(\"Page\") }} <span class=\"page\"></span> {{ _(\"of\") }} <span class=\"topage\"></span></p>\n</div>\n\n<table>\n    <tr>\n        <td>{{ _(\"Company\") }}</td>\n        <td>{{ doc.company }}</td>\n    </tr>\n    <tr>\n        <td>{{ _(\"VAT type\") }}</td>\n        <td>{{ doc.vat_type }}</td>\n    </tr>\n    <tr>\n        <td>{{ _(\"Period\") }}</td>\n        <td>{{ doc.start_date }} .. {{ doc.end_date }}</td>\n    </tr>\n    <tr>\n        <td>{{ _(\"Printed\") }}</td>\n        <td>{{ frappe.format_value(frappe.utils.now(), {'fieldtype': 'Date'}) }}</td>\n    </tr>\n</table>\n\n<table>\n    {% for f in field_list %}\n        {% if ('fieldname' in f and doc.get(f['fieldname'])) or ('tax_field' in f and doc.get(f['tax_field'])) %}\n        <tr>\n            <td>{{ f['code'] }}</td>\n            <td>{{ _(f['label']) }}</td>\n            <td>{% if \"fieldname\" in f %}{{ \"{:,.2f}\".format(doc.get(f['fieldname'])).replace(\",\", \"'\") }}{% endif %}</td>\n            <td>{% if \"rate_field\" in f %}{{ \"{:,.2f}\".format(doc.get(f['rate_field'])).replace(\",\", \"'\") }}%{% endif %}</td>\n            <td>{% if \"tax_field\" in f %}{{ \"{:,.2f}\".format(doc.get(f['tax_field'])).replace(\",\", \"'\") }}{% endif %}</td>\n        </tr>\n        {% endif %}\n    {% endfor %}\n</table>\n\n<!-- add detail pages -->\n{% for f in field_list %}\n    {% if doc.get(f['fieldname']) %}\n        <div class=\"page-break\"></div>\n        <h2>{{ _(f['label']) }}</h2>\n        {% set details = get_vat_control_details(doc.start_date, doc.end_date,  f['code'], doc.company) %}\n\n        <table style=\"font-size: 8pt; \">\n            <tr>\n                <th>{{ _(\"Date\") }}</th>\n                <th>{{ _(\"Document\") }}</th>\n                <th>{{ _(\"Amount\") }}</th>\n                <th>{{ _(\"Tax Amount\") }}</th>\n                <th>{{ _(\"Taxes and Charges\") }}</th>\n                <th>{{ _(\"Remarks\") }}</th>\n            </tr>\n        {% for d in details %}\n            <tr style=\"border-bottom: 1px solid silver; \">\n                <td style=\"padding-bottom: 0px !important; padding-top: 1px !important; \">\n                    {{ frappe.utils.get_datetime(d.posting_date).strftime('%d.%m.%Y') }}\n                </td>\n                <td style=\"padding-bottom: 0px !important; padding-top: 1px !important; \">\n                    {{ d.name }}</td>\n                <td style=\"padding-bottom: 0px !important; padding-top: 1px !important; \">\n                    {% if d.base_grand_total %}{{ \"{:,.2f}\".format(d.base_grand_total).replace(\",\", \"'\") }}{% endif %}\n                </td>\n                <td style=\"padding-bottom: 0px !important; padding-top: 1px !important; \">\n                    {% if d.total_taxes_and_charges %}{{ \"{:,.2f}\".format(d.total_taxes_and_charges).replace(\",\", \"'\") }}{% endif %}\n                </td>\n                <td style=\"padding-bottom: 0px !important; padding-top: 1px !important; \">\n                    {{ d.taxes_and_charges or \"\" }}\n                </td>\n                <td style=\"padding-bottom: 0px !important; padding-top: 1px !important; \">\n                    {{ d.remarks or \"\" }}\n                </td>\n            </tr>\n        {% endfor %}\n        </table>\n    {% endif %}\n{% endfor %}\n    ",
 "idx": 0,
 "line_breaks": 0,
 "modified": "2024-04-18 10:37:21.934343",
 "modified_by": "Administrator",
 "module": "ERPNextSwiss",
 "name": "MwSt-Abrechnung mit Details",
 "owner": "Administrator",
 "print_format_builder": 1,
 "print_format_type": "Jinja",
 "raw_printing": 0,
 "show_section_headings": 0,
 "standard": "Yes"
}